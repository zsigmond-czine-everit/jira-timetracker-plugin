#*
 * Copyright (C) 2011 Everit Kft. (http://www.everit.org)
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *#
                              <div id="tabs-component-content">
                                <table class="aui reporting-table">
                                    <thead>
                                        <tr>
                                            <th>$i18n.getText("jtrp.report.cs.col.jtrp_col_project")</th>
                                            <th>$i18n.getText("jtrp.report.cs.col.jtrp_col_component")</th>
                                            <th>$i18n.getText("jtrp.report.cs.col.jtrp_col_lead")</th>
                                            <th>$i18n.getText("jtrp.report.cs.col.jtrp_col_description")</th>
                                            <th>$i18n.getText("jtrp.report.cs.col.jtrp_col_estimated")</th>
                                            <th>$i18n.getText("jtrp.report.cs.col.jtrp_col_remaining")</th>
                                            <th>$i18n.getText("jtrp.report.cs.col.jtrp_col_logged")</th>
                                            <th>$i18n.getText("jtrp.report.cs.col.jtrp_col_expected") <span id="component-expected-tooltip" class="aui-icon aui-icon-small aui-iconfont-help" title="$i18n.getText('jtrp.report.cs.col.jtrp_col_expected.help')"></span></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        #foreach ( $cs in $componentSummaryReport.componentSummaries )
                                        <tr>
                                            <td>
                                              <a href="$contextPath/browse/$cs.projectKey" class="tinylink">$cs.projectKey</a>
                                            </td>
                                            <td>$cs.name</td>
                                            <td>#if($cs.lead)$cs.lead#end</td>
                                            <td>#if($cs.description)$cs.description#end</td>
                                            <td>$durationFormatter.exactDuration($cs.orginalEstimatedSum)</td>
                                            <td>$durationFormatter.exactDuration($cs.reaminingTimeSum)</td>
                                            <td>$durationFormatter.exactDuration($cs.workloggedTimeSum)</td>
                                            <td>$durationFormatter.exactDuration($cs.expected)</td>
                                        </tr>
                                        #end
                                    </tbody>
                                </table>
                                <div class="aui-group aui-group-split count-pagination">
                                    <div class="aui-item">
                                        <span class="results-count-text">
                                            <span class="results-count results-count-start">$componentSummaryReport.paging.start</span> â€“
                                            <span class="results-count results-count-end">$componentSummaryReport.paging.end</span> of 
                                            <span class="results-count results-count-total results-count-link">$componentSummaryReport.componentSummaryCount</span>
                                        </span>
                                    </div>
                                    <div class="aui-item">
                                        <div class="pagination">
                                            #set($isMaxPageNumber = $componentSummaryReport.paging.maxPageNumber)
                                            
                                            #if ( $isMaxPageNumber )
                                              #set($isActPageNumber = $componentSummaryReport.paging.actPageNumber)
                                              #set($filterLimit = $filterCondition.limit)
                                              #if ( $isActPageNumber - 2 < 1 )
                                                #set($inStart = 1)
                                              #else
                                                #set($inStart = $isActPageNumber - 2)
                                              #end
                                              #if ( $isActPageNumber + 2 > $isMaxPageNumber )
                                                #set($inEnd = $isMaxPageNumber)
                                              #else
                                                #set($inEnd = $isActPageNumber + 2)
                                              #end
                                              #if ( $isActPageNumber < 3 )
                                                #if ($isMaxPageNumber > 5) 
                                                  #set($inEnd = 5) 
                                                #else 
                                                  #set($inEnd = $isMaxPageNumber) 
                                                #end
                                              #end
                                              #if ( $isActPageNumber + 2 >= $isMaxPageNumber && $isMaxPageNumber - 4 > 0) 
                                                  #set($inStart = $isMaxPageNumber - 4)
                                              #end
                                              
                                              #if ( $isActPageNumber > 1 )
                                            <a href="javascript:void(0);" onclick="everit.reporting.main.getComponentSummaryPage((($isActPageNumber - 1) * $filterLimit) - $filterLimit)">
                                                <span class="aui-icon aui-icon-small aui-iconfont-arrows-left"></span>
                                            </a>
                                              #end
                                              #foreach ( $page in [$inStart..$inEnd] ) 
                                                #if ( $isActPageNumber == $page )
                                            <strong>$page</strong>
                                                #else
                                            <a href="javascript:void(0);" onclick="everit.reporting.main.getComponentSummaryPage(($page * $filterLimit) - $filterLimit)">$page</a>
                                                #end
                                              #end
                                              #if ( $isActPageNumber < $isMaxPageNumber )
                                            <a href="javascript:void(0);" onclick="everit.reporting.main.getComponentSummaryPage((($isActPageNumber + 1) * $filterLimit) - $filterLimit)">
                                                <span class="aui-icon aui-icon-small aui-iconfont-arrows-right"></span>
                                            </a>
                                              #end
                                            #end 
                                        </div>
                                    </div>
                                </div>
                              </div>